# Orders One Thread

**LIVE LINK: https://orders-one-thread.vercel.app/api/v1**

## FEATURES

- Creating an order.
- Reading all orders list.
- Partially update order details.
- Update and replace order details.
- Delete an order

### TECHNOLOGIES USED

- Typescript
- ExpressJS
- NodeJS
- MongoDB
- Mongoose
- Zod
- Vercel

### ATTRACTIONS & ADVANCEMENTS

- Modular MVC Architecture
- Maintainable configuration file to handle all environment file dependencies centrally.
- Maintainable and reusable route dispatching.
  - When there are more modules, this comes in handy.
- Maintainable and reusabled middlewares:
  - globalErrorHandler: Combining API Errors, Cast Errors, Zod Errors, and Validation Errors.
  - validateRequest: For validating the validation schema before accessing the Controller layer.
- Maintainable and reusable utilities:
  - catchAsync: For handling asynchronous route and error handling.
  - sendResponse: For sending a generic error message maintaining a generic data structure.
- Usage of the package `http-status` for erroneous/clumsy handling of status codes
- Usage of commit-conventions for meaningful commit messages
  - doc: Documentation
  - chore: File/folder setup
  - feat: Feature
  - refactor: Changes that are not features.
  - fix: Fixation of issues/errors
  - etc

### HOW TO SETUP THIS PROJECT

1. Clone this repository

`git clone https://github.com/farhanhasindipro25/orders-one-thread.git`

2. Access the project directory

`cd orders-one-thread`

3. Install all dependencies

`yarn install`

4. Create a `.env` file in the project's root directory.

5. Add the following variables in the `.env` file. The config file handles everything.

`NODE_ENVIRONMENT=development
PORT=5000
6. Now, you need to create a Database in MongoDB. Visit MongoDB Atlas and Sign In.
7. Click on the`Database`tab on the left and click on`Connect`.
8. Now click on `Drivers`and copy the connection string.` 9. Now add this to the `.env` file.

`DATABASE_URL=mongodb+srv://<username>:<password>@cluster0.h0us0hz.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0`

9. After this part of the string `mongodb+srv://` add the name of your database, so that it looks like this:

`mongodb+srv://orders-one-thread<username>:<password>@cluster0.h0us0hz.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0`

10. Now, go back to Atlas and click on `Database Access` on the left.
11. Click on `ADD NEW DATABASE USER` on the right.
12. Add a username, and use the autogenerated password, and finally add a Buil-in Role: Atlas Admin for this database user.
13. Copy the username and password and replace `<username>` and `<password>` respectively in the `DATABASE_URL` in the `.env` file.
14. Now run `yarn start`, and you are all set to see the project.

### CODEBASE ARCHITECTURE BREAKDOWN

- `README.md/:` Project documentation and setup instructions.
- `src/:` Contains source code for the application.
- `src/app.ts:` Root application file.
- `src/server.ts:` Entry point to establish database connection.
- `src/app/:` Contains colocated belongings.
- `src/app/config/`: Contains configuration setup as per the `.env` file.
- `src/app/errors/`: Contains functions to handle several error cases.
- `src/app/interfaces/`: Contains general interfaces and types of the project context.
- `src/app/middlewares/`: Contains validateRequest and globalErrorHandler middlewares (and other) middlewares of the project context.
- `src/app/routes/`: Contains reusable routing setup of the project context
- `src/app/utilities/`: Contains catchAsync and sendResponse utility functions (and other) utilities of the project context.
- `src/app/modules/`: Contains entities of the project context as modules.
- `src/app/modules/orders`: Contains layers of Software Architectures for the orders module.
- `src/app/modules/orders/orders.interface.ts`: Contains the interface of an Order data structure.
- `src/app/modules/orders/orders.model.ts`: Contains the data schema of an Order.
- `src/app/modules/orders/orders.validation.ts`: Contains the validation schema for Orders dealing with user inputs.
- `src/app/modules/orders/orders.services.ts`: Contains business logic and database calls from the models.
- `src/app/modules/orders/orders.controller.ts`: Handles the application logic, processing requests from the routes and sending back a response to the routes.
- `src/app/modules/orders/orders.routes.ts`: Defines the endpoints and routes for handling the HTTP requests.
